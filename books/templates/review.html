{% extends "super.html" %}

{% block style %}
  <link rel="stylesheet" href="{{ url_for('static', filename='styles/review.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
{% endblock %}

{% block nav_bar %}
<ul class="navbar-nav mr-auto">
  <li class="nav-item active">
    <a class="nav-link" href="{{url_for('home')}}">Home</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{{url_for('my_books')}}">My Books</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{{url_for('profile')}}">My profile</a>
  </li>
</ul>
<form class="form-inline my-2 my-lg-0">
  <input class="form-control mr-sm-2" type="search" placeholder="Find books here" aria-label="Search">
  <button class="btn btn-outline-light my-2 my-sm-0" type="submit">Search</button>
</form>
<form class="form-inline mx-2">
  <button class="btn btn-light my-2 my-sm-0" type="button"><a href="{{url_for('log_out')}}">Log out</a></button>
</form>

{% endblock %}

{% block content %}
<div class="container">
  <div class="row mt-5">
    <div class="col-3">
      <img src="{{book['img_url']}}" alt="book cover" class="img-fluid img-thumbnail cover">
    </div>
    <div class="col-9">
      <table class="table table-dark table-borderless text-light">
        <thead>
          <tr>
            <th scope="col">{{book["title"]}}</th>
          </tr>
        </thead>
        <tbody>
          <tr my-0>
            <td><small class="text-secondary">
              {{book["author"]}} <br>
              ISBN: {{book["isbn"]}} <br>
              Published in {{book["year"]}}
                </small>
            </td>
          </tr>
          <tr>
            <td>{{book["summary"]}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row m-0 mt-5">
    <div class="col-12">
      <ul class="nav nav-tabs">
        <li class="nav-item  mr-2">
          <a class="nav-link text-light" href="{{url_for('book', isbn=book['isbn'], review=False)}}">Summary</a>
        </li>
        <li class="nav-item ml-2">
          <a class="nav-link active" href="#review">Reviews</a>
        </li>
      </ul>
    </div>
  </div>
</div>
</div>
  <div class="row mt-5 mb-3 text-light justify-content-center">
    <div class="col-6 text-right">
      Average Rating:  {{rating['average']}} / 5
    </div>
    <div class="col-6 text-left">
      {{rating["stars_html"]}}
    </div>
  </div>
  <div class="row my-2 justify-content-center">
    <div class="col-2"></div>
    <div class="col-6">
      <div class="progress">
        <div class="progress-bar bg-warning text-dark" role="progressbar" style="width: {{rating['dist_perc'][0]}}%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">{{rating['dist_num'][0]}}</div>
      </div>
    </div>
    <div class="col-4 text-light">
      <span class="fa fa-star checked"></span>
      <span class="fa fa-star checked"></span>
      <span class="fa fa-star checked"></span>
      <span class="fa fa-star checked"></span>
      <span class="fa fa-star checked"></span>
    </div>
  </div>
  <div class="row my-2 justify-content-center">
    <div class="col-2"></div>
    <div class="col-6">
      <div class="progress">
        <div class="progress-bar bg-warning text-dark" role="progressbar" style="width: {{rating['dist_perc'][0]}}%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">{{rating['dist_num'][1]}}</div>
      </div>
    </div>
    <div class="col-4 text-light">
      <span class="fa fa-star checked"></span>
      <span class="fa fa-star checked"></span>
      <span class="fa fa-star checked"></span>
      <span class="fa fa-star checked"></span>
      <span class="fa fa-star-o checked"></span>
    </div>
  </div>
  <div class="row my-2 justify-content-center">
    <div class="col-2"></div>
    <div class="col-6">
      <div class="progress">
        <div class="progress-bar bg-warning text-dark" role="progressbar" style="width: {{rating['dist_perc'][2]}}%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">{{rating['dist_num'][2]}}</div>
      </div>
    </div>
    <div class="col-4 text-light">
      <span class="fa fa-star checked"></span>
      <span class="fa fa-star checked"></span>
      <span class="fa fa-star checked"></span>
      <span class="fa fa-star-o checked"></span>
      <span class="fa fa-star-o checked"></span>
    </div>
  </div>
  <div class="row my-2 justify-content-center">
    <div class="col-2"></div>
    <div class="col-6">
      <div class="progress">
        <div class="progress-bar bg-warning text-dark" role="progressbar" style="width: {{rating['dist_perc'][3]}}%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">{{rating['dist_num'][3]}}</div>
      </div>
    </div>
    <div class="col-4 text-light">
      <span class="fa fa-star checked"></span>
      <span class="fa fa-star checked"></span>
      <span class="fa fa-star-o checked"></span>
      <span class="fa fa-star-o checked"></span>
      <span class="fa fa-star-o checked"></span>
    </div>
  </div>
  <div class="row my-2 mb-5 justify-content-center">
    <div class="col-2"></div>
    <div class="col-6">
      <div class="progress">
        <div class="progress-bar bg-warning text-dark" role="progressbar" style="width: {{rating['dist_perc'][4]}}%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">{{rating['dist_num'][4]}}</div>
      </div>
    </div>
    <div class="col-4 text-light">
      <span class="fa fa-star checked"></span>
      <span class="fa fa-star-o checked"></span>
      <span class="fa fa-star-o checked"></span>
      <span class="fa fa-star-o checked"></span>
      <span class="fa fa-star-o  checked"></span>
    </div>
  </div>
  <div class="row m-2 text-dark justify-content-center" id="reviews">
    <div class="col-11">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Review title - 4.5 / 5</h5>
          <h6 class="card-subtitle mb-2 text-muted">Username of reviewer</h6>
          <p class="card-text">
            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet, eum natus nobis eaque sint. Qui repudiandae maiores neque nemo, est sequi veniam dicta sapiente voluptas vero, necessitatibus aut? Natus tempora eaque dolorum iste, distinctio voluptates iusto. Magni voluptates, consequuntur distinctio adipisci dolorem beatae facere perspiciatis laudantium optio dolor facilis, eum!
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
